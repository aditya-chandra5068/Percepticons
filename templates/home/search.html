{% extends 'base.html' %}

{% block title %} Search Results  {% endblock title%}
{% block js %} 
<script>
let previews = document.getElementsByClassName('preview');
Array.from(previews).forEach((element)=>{
        element.innerHTML  = element.innerText; 
})
</script>
{% endblock js %}
{% block blogactive %} active {% endblock blogactive %}

{% block body %}



<!-- {% comment %} <div class="container mt-4"> {% endcomment %}
{% comment %} <h2 class="font-weight-bold" >Search results:</h2> {% endcomment %} -->


{% if allPosts|length < 1 %}
<p>No matching post found for <b>{{query}}</b></p>
<br>
<p>Try different Keyword.</p>
{% elif  allPosts|length >= 1  %}
<p>Result found for <b>{{query}}</b></p>
{% endif %}

<div class="row">
{% for post in allPosts %}
            <div class="card border-secondary flex-md-row mb-4 box-shadow h-md-250">
                <div class="card-body d-flex flex-column align-items-start">
                    <!-- <strong class="d-inline-block mb-2 text-primary">World</strong> -->
                    <h3 class="mb-0">
                        <a class="text-dark" href="#">{{ post.title }}</a>
                    </h3>
                    <div class="mb-1 text-muted">{{ post.timeStamp}}</div>
                    <p class="card-text mb-auto"><div class="preview"> {{ post.content | safe | truncatechars:400}}</div></p>
                    <a href="/blog/{{post.slug}}"><button class="btn btn-sm btn-outline-primary">Continue reading </button></a>
                </div>
            </div>
            {% endfor %}
        </div>
    
<!-- </div> -->


{% endblock body %}